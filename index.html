<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PMGC â€“ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø±Ø³Ù…ÙŠ</title>
<style>
  body {
    margin: 0;
    font-family: 'Cairo', sans-serif;
    background: #000;
    color: #fff;
    overflow-x: hidden;
  }
  .bg-video {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    object-fit: cover;
    z-index:-1;
    filter: brightness(0.5);
  }
  .container {
    max-width: 500px;
    margin: 60px auto;
    padding: 25px;
    background: rgba(0,0,0,0.85);
    border-radius: 25px;
    border: 1px solid #0ff4;
    box-shadow: 0 0 50px #0ff4;
    position: relative;
  }
  h1 {
    text-align:center;
    color: #0ff;
    text-shadow: 0 0 15px #0ff;
  }
  input, button {
    width: 100%;
    padding: 14px;
    margin: 10px 0;
    border-radius: 12px;
    font-size: 16px;
    border: none;
  }
  input {
    background: #111;
    color: #fff;
    border: 1px solid #0ff4;
  }
  input:focus {
    outline: none;
    box-shadow: 0 0 12px #0ff;
  }
  button {
    background: linear-gradient(135deg,#0ff,#088);
    color: #000;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px #0ff;
  }
  button.admin {
    background: linear-gradient(135deg,#f90,#f60);
  }
  button.share {
    background: linear-gradient(135deg,#25D366,#128C7E);
  }
  .panel {
    display: none;
    background: #111;
    padding: 15px;
    border-radius: 15px;
    border: 1px solid #0ff4;
    margin-top: 15px;
  }
  .result {
    border:1px solid #0ff;
    margin:10px 0;
    padding:10px;
    border-radius:12px;
    background: rgba(0,255,255,0.1);
  }
  .result.first {
    border-color: gold;
    background: rgba(255,215,0,0.2);
  }
  .footer {
    text-align:center;
    font-size:13px;
    opacity:0.8;
    margin-top:10px;
  }
  .inner-video {
    width:100%;
    border-radius:15px;
    margin-bottom:15px;
  }
  canvas {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    pointer-events:none;
    z-index:9999;
  }
</style>
</head>
<body>

<video class="bg-video" autoplay muted loop>
  <source src="https://cdn.coverr.co/videos/coverr-soldier-walking-in-smoke-1576/1080p.mp4" type="video/mp4">
</video>

<canvas id="confetti"></canvas>

<div class="container">
  <h1>PMGC â€“ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</h1>

  <video class="inner-video" autoplay muted loop>
    <source src="https://cdn.coverr.co/videos/coverr-gamer-on-computer-1561/1080p.mp4" type="video/mp4">
  </video>

  <input id="name" placeholder="Ø§Ù„Ø§Ø³Ù…">
  <input id="pid" placeholder="ID Ø§Ù„Ù„Ø§Ø¹Ø¨">
  <input id="rank" placeholder="Ø§Ù„Ø±Ø§Ù†Ùƒ">
  <input id="ping" placeholder="Ø§Ù„Ø¨Ù†Ø¬">
  <button onclick="submitForm()">ØªÙ‚Ø¯ÙŠÙ… & Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨</button>

  <button class="admin" onclick="openAdmin()">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
  <button class="share" onclick="showResults()">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>

  <div class="panel" id="adminPanel">
    <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†: <span id="count">0</span></p>
    <button onclick="closeApply()">Ù‚ÙÙ„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
    <button onclick="openApply()">ÙØªØ­ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
    <button onclick="clearPlayers()">Ù…Ø³Ø­ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†</button>
  </div>

  <div class="panel" id="results"></div>

  <div class="footer">
    ğŸ“ 2001270382949<br>
    Ø±ÙˆÙ… 1 Ø´ØºØ§Ù„ â€“ 2 / 3 / 4 Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«
  </div>
</div>

<script>
// Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
const PASSWORD='PMGC2026';
if(!localStorage.getItem('status')) localStorage.setItem('status','open');

function updateCount() {
  document.getElementById('count').innerText = (JSON.parse(localStorage.getItem('players')||'[]')).length;
}
function closeApply(){ localStorage.setItem('status','closed'); }
function openApply(){ localStorage.setItem('status','open'); }
function clearPlayers(){ 
  if(confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†ØŸ')){ 
    localStorage.removeItem('players'); 
    updateCount(); 
    alert('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†'); 
  } 
}
function openAdmin(){
  const p = prompt('ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±');
  if(p===PASSWORD){
    document.getElementById('adminPanel').style.display='block';
    updateCount();
  } else alert('ÙƒÙ„Ù…Ø© Ø³Ø± Ø®Ø§Ø·Ø¦Ø©');
}

// Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… ÙˆÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨
function submitForm(){
  if(localStorage.getItem('status')==='closed'){ alert('Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù…Ù‚ÙÙˆÙ„'); return; }

  const name = document.getElementById('name').value.trim();
  const pid = document.getElementById('pid').value.trim();
  const rank = document.getElementById('rank').value.trim();
  const ping = document.getElementById('ping').value.trim();
  if(!name || !pid || !rank || !ping){ alert('âš ï¸ Ø£ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'); return; }

  let players = JSON.parse(localStorage.getItem('players')||'[]');
  const points = Math.floor(Math.random()*10+1);
  const date = new Date().toLocaleString();
  players.push({name,pid,rank,ping,points,date});
  localStorage.setItem('players',JSON.stringify(players));
  updateCount();

  const waNumber = '2001270382949';
  const waText = `ğŸ”¥ ØªÙ… Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… ÙÙŠ Ø¨Ø·ÙˆÙ„Ø© PMGC ğŸ”¥\\n====================\\nØ§Ù„Ø§Ø³Ù…: ${name}\\nID: ${pid}\\nØ§Ù„Ø±Ù†Ùƒ: ${rank}\\nØ§Ù„Ø¨Ù†Ø¬: ${ping}\\nØ§Ù„ØªØ§Ø±ÙŠØ®: ${date}\\n====================`;
  window.open(`https://wa.me/${waNumber}?text=${encodeURIComponent(waText)}`, '_blank');

  document.getElementById('name').value='';
  document.getElementById('pid').value='';
  document.getElementById('rank').value='';
  document.getElementById('ping').value='';
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ + Confetti Ù„Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙˆÙ„
function showResults(){
  const results = document.getElementById('results');
  results.style.display='block';
  let players = JSON.parse(localStorage.getItem('players')||'[]');
  players.sort((a,b)=>b.points-a.points);
  results.innerHTML = '<h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>';
  players.forEach((p,i)=>{
    results.innerHTML += `<div class="result ${i==0?'first':''}">
      <p>${i==0?'ğŸ‘‘ Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙˆÙ„':'Ø§Ù„Ù…Ø±ÙƒØ² '+(i+1)}</p>
      <p>Ø§Ù„Ø§Ø³Ù…: ${p.name}</p>
      <p>ID: ${p.pid}</p>
      <p>Ø§Ù„Ø±Ù†Ùƒ: ${p.rank}</p>
      <p>Ø§Ù„Ø¨Ù†Ø¬: ${p.ping}</p>
      <p>Ø§Ù„Ù†Ù‚Ø§Ø·: ${p.points} Ø¨ÙˆÙŠÙ†Øª</p>
      <p>Ø§Ù„ØªØ§Ø±ÙŠØ®: ${p.date}</p>
    </div>`;
    if(i==0){
      // ØµÙˆØª
      let msg = new SpeechSynthesisUtterance(`Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙˆÙ„ ${p.name} Ø¨Ø¹Ø¯Ø¯ ${p.points} Ø¨ÙˆÙŠÙ†Øª`);
      msg.rate = 1.2; msg.pitch = 1.5; speechSynthesis.speak(msg);
      // Confetti
      launchConfetti();
    }
  });
}

// Confetti
function launchConfetti(){
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const confettis = [];
  for(let i=0;i<200;i++){
    confettis.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height,
      r: Math.random()*6+4,
      d: Math.random()*50+10,
      color: `hsl(${Math.random()*360},100%,50%)`,
      tilt: Math.random()*10-10
    });
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confettis.forEach(c=>{
      ctx.beginPath();
      ctx.moveTo(c.x + c.tilt, c.y);
      ctx.lineTo(c.x + c.tilt + c.r/2, c.y + c.r);
      ctx.lineWidth = 2;
      ctx.strokeStyle = c.color;
      ctx.stroke();
    });
    update();
  }
  function update(){
    confettis.forEach(c=>{
      c.y += 2;
      if(c.y>canvas.height){ c.y = 0; c.x = Math.random()*canvas.width; }
    });
  }
  setInterval(draw,20);
}
</script>

</body>
</html>
